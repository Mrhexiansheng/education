(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23a25ad0"],{"03b7":function(e,t,a){},6762:function(e,t,a){"use strict";var r=a("5ca1"),l=a("c366")(!0);r(r.P,"Array",{includes:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"95f5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("el-row",{attrs:{justify:"space-between",type:"flex"}},[a("el-col",{attrs:{span:4,offset:1}},[a("span",{staticClass:"span"},[e._v("不了解网站？"),a("router-link",{staticClass:"cz",attrs:{to:{name:"Show"},tag:"span"}},[e._v("网站简介。")])],1)]),a("el-col",{attrs:{span:11}},[a("span",{staticClass:"span"},[e._v("您好，现在时间是 "+e._s(e.localDate)+"，")]),a("span",{staticClass:"span"},[e._v(e._s(e.date)+"好，")]),a("span",{staticClass:"span"},[e._v("请   "),a("router-link",{staticClass:"login",attrs:{to:{name:"login"},tag:"span"}},[e._v("登录。")])],1),e._v("\n                 \n                "),a("span",{staticClass:"span"},[e._v("没有账号？"),a("router-link",{staticClass:"cz",attrs:{to:{name:"Registered"},tag:"span"}},[e._v("注册一个。")])],1)])],1)],1),a("el-main",[a("el-row",{attrs:{justify:"center",align:"middle",type:"flex"}},[a("el-col",{staticClass:"box",attrs:{span:8}},[a("h1",[e._v("账号注册")]),a("el-form",{ref:"registeredForm",attrs:{"label-width":"80px",model:e.form,rules:e.rules,"hide-required-asterisk":!0,"status-icon":!0}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名(请用职工号注册)",clearable:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password1"}},[a("el-input",{attrs:{placeholder:"请输入密码",clearable:"",type:"password"},model:{value:e.form.password1,callback:function(t){e.$set(e.form,"password1",t)},expression:"form.password1"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password2"}},[a("el-input",{attrs:{placeholder:"请再次输入密码",clearable:"",type:"password"},model:{value:e.form.password2,callback:function(t){e.$set(e.form,"password2",t)},expression:"form.password2"}})],1),a("el-form-item",{attrs:{label:"职工性质",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择职工性质"},on:{input:e.beforeRegistered},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},e._l(e.options1,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),3===e.form.role?a("div",[a("el-form-item",{attrs:{label:"专家类型",prop:"experts_type"}},[a("el-select",{attrs:{placeholder:"请选择专家类型"},model:{value:e.form.experts_type,callback:function(t){e.$set(e.form,"experts_type",t)},expression:"form.experts_type"}},e._l(e.experts_options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.type,value:e.id}})})),1)],1)],1):e._e(),3!==e.form.role?a("div",[a("el-form-item",{attrs:{label:"所属学院",prop:"college"}},[a("el-select",{attrs:{placeholder:"请选择所属学院"},on:{input:e.beforeRegistered},model:{value:e.form.college,callback:function(t){e.$set(e.form,"college",t)},expression:"form.college"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.college,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"职称",prop:"teachers_title"}},[a("el-select",{attrs:{placeholder:"请选择你的职称"},model:{value:e.form.teachers_title,callback:function(t){e.$set(e.form,"teachers_title",t)},expression:"form.teachers_title"}},e._l(e.options3,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"学位",prop:"degree"}},[a("el-select",{attrs:{placeholder:"请选择你的学位"},model:{value:e.form.degree,callback:function(t){e.$set(e.form,"degree",t)},expression:"form.degree"}},e._l(e.options4,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"所属部门",prop:"depart_number"}},[a("el-select",{attrs:{placeholder:"请选择职工部门"},model:{value:e.form.depart_number,callback:function(t){e.$set(e.form,"depart_number",t)},expression:"form.depart_number"}},e._l(e.options2,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",type:"number"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.upload,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.avatar?a("img",{staticClass:"avatar",attrs:{src:e.form.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1):e._e(),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.registered}},[e._v("注册")])],1)],1)],1)],1)],1)],1)},l=[],s=(a("6762"),{name:"Registered",data:function(){return{upload:this.$api.UPLOAD,flag:!1,form:{username:"",password1:"",password2:"",phone:"",avatar:"",last_login_time:(new Date).toLocaleString(),role:"",college:"",depart_number:"",degree:"",teachers_title:"",experts_type:""},date:"",localDate:"",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password1:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 12 个字符",trigger:"blur"}],password2:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 12 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],avatar:[{required:!0,message:"请上传头像",trigger:"blur"}],role:[{required:!0,message:"请选择职工性质",trigger:"blur"}],college:[{required:!0,message:"请选择所属学院",trigger:"blur"}],depart_number:[{required:!0,message:"请选择职工部门",trigger:"blur"}],experts_type:[{required:!0,message:"请选择专家类型",trigger:"blur"}]},options:[],options1:[{value:2,label:"领导"},{value:3,label:"专家"},{value:4,label:"教师"}],options2:[{value:1,label:"纪检部门"},{value:2,label:"后勤部门"},{value:3,label:"审核部门"},{value:4,label:"财务部门"}],options3:[{value:1,label:"助教"},{value:2,label:"讲师"},{value:3,label:"副教授"},{value:4,label:"教授"}],options4:[{value:1,label:"学士"},{value:2,label:"硕士"},{value:3,label:"博士"}],value:"",experts_options:""}},methods:{registered:function(){var e=this;this.$refs.registeredForm.validate((function(t){t?e.flag?e.$axios.post(e.$api.REGISTERED,e.form).then((function(t){200===t.data.code?(e.$refs.registeredForm.resetFields(),e.$message.success("恭喜您注册成功,登录之后，请注意完善个人资料。")):e.$message.error("注册失败")})):(e.$message.error("领导只能注册一个，请勿错误注册！"),e.$refs.registeredForm.resetFields()):e.$message.error("请填写表单")}))},handleAvatarSuccess:function(e){"error"===e?this.$message.error("上传失败"):this.form.avatar=e},beforeAvatarUpload:function(e){var t=["image/jpeg","image/jpg","image/png"],a=e.size/1024/1024<5;t.includes(e.type)||this.$message.error("上传的图片格式有误，请重新上传！"),a||this.$message.error("上传头像图片大小不能超过 5MB!")},getDate:function(){this.localDate=(new Date).toLocaleString()},getCollege:function(){var e=this;this.$axios.get(this.$api.COLLEGE).then((function(t){200===t.data.code&&(e.options=t.data.data)}))},getexperts_type:function(){var e=this;this.$axios.get(this.$api.PROJECT_TYPE).then((function(t){200===t.data.code?e.experts_options=t.data.data:e.$message.error("获取失败")}))},beforeRegistered:function(){var e=this;this.form.role&&this.form.college&&this.$axios.get(this.$api.beforeRegistered,{college:this.form.college,role:this.form.role}).then((function(t){200===t.data.code?e.flag=!0:e.flag=!1}))}},beforeMount:function(){this.date=(new Date).toLocaleTimeString(),this.date=this.date.slice(0,2),this.localDate=(new Date).toLocaleString()},mounted:function(){this.date=this.date.slice(0,2),setInterval(this.getDate,1e3),this.getCollege(),this.getexperts_type()}}),o=s,i=(a("e430"),a("2877")),n=Object(i["a"])(o,r,l,!1,null,"7e30d19a",null);t["default"]=n.exports},e430:function(e,t,a){"use strict";var r=a("03b7"),l=a.n(r);l.a}}]);
//# sourceMappingURL=chunk-23a25ad0.cf688409.js.map