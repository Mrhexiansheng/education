{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./src/views/Project/ProjectApplication.vue?8174","webpack:///src/views/Project/ProjectApplication.vue","webpack:///./src/views/Project/ProjectApplication.vue?6c2e","webpack:///./src/views/Project/ProjectApplication.vue","webpack:///./src/views/Project/ProjectApplication.vue?8498"],"names":["$export","$includes","P","includes","el","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","path","_v","model","value","callback","$$v","activeName","expression","ref","form","rules","$set","_l","item","key","label","id","type","staticClass","uploadFile","handleRemove1","beforeFileUpload","handleFileSuccess","file","upload","handleRemove","handleAvatarSuccess1","beforePhoneUpload","thumb","staticStyle","on","apply","search_number","search","slot","tableData","scopedSlots","_u","fn","props","row","index","_s","description","time","role","teachers_title","_e","level","states","cz","$event","join","staticRenderFns","component"],"mappings":"gHAEA,IAAIA,EAAU,EAAQ,QAClBC,EAAY,EAAQ,OAAR,EAA6B,GAE7CD,EAAQA,EAAQE,EAAG,QAAS,CAC1BC,SAAU,SAAkBC,GAC1B,OAAOH,EAAUI,KAAMD,EAAIE,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAIrE,EAAQ,OAAR,CAAiC,a,2CCXjC,IAAIC,EAAS,WAAa,IAAIC,EAAIL,KAASM,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACE,MAAM,CAAC,UAAY,IAAI,MAAQ,SAAS,CAACF,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,CAAEC,KAAM,OAAQ,CAACN,EAAIO,GAAG,WAAWJ,EAAG,qBAAqB,CAACH,EAAIO,GAAG,WAAW,GAAGJ,EAAG,cAAcA,EAAG,UAAU,CAACK,MAAM,CAACC,MAAOT,EAAc,WAAEU,SAAS,SAAUC,GAAMX,EAAIY,WAAWD,GAAKE,WAAW,eAAe,CAACV,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACF,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,UAAU,CAACW,IAAI,YAAYT,MAAM,CAAC,cAAc,QAAQ,MAAQL,EAAIe,KAAK,MAAQf,EAAIgB,MAAM,0BAAyB,EAAK,eAAc,IAAO,CAACb,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,aAAa,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,WAAW,SAAW,IAAIG,MAAM,CAACC,MAAOT,EAAIe,KAAa,SAAEL,SAAS,SAAUC,GAAMX,EAAIiB,KAAKjB,EAAIe,KAAM,WAAYJ,IAAME,WAAW,oBAAoB,GAAGV,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,WAAWG,MAAM,CAACC,MAAOT,EAAIe,KAAS,KAAEL,SAAS,SAAUC,GAAMX,EAAIiB,KAAKjB,EAAIe,KAAM,OAAQJ,IAAME,WAAW,gBAAgB,GAAGV,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,UAAU,KAAO,WAAW,KAAO,GAAGG,MAAM,CAACC,MAAOT,EAAIe,KAAgB,YAAEL,SAAS,SAAUC,GAAMX,EAAIiB,KAAKjB,EAAIe,KAAM,cAAeJ,IAAME,WAAW,uBAAuB,GAAGV,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,aAAa,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,YAAYG,MAAM,CAACC,MAAOT,EAAIe,KAAa,SAAEL,SAAS,SAAUC,GAAMX,EAAIiB,KAAKjB,EAAIe,KAAM,WAAYJ,IAAME,WAAW,oBAAoB,GAAGV,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,YAAc,OAAOG,MAAM,CAACC,MAAOT,EAAIe,KAAU,MAAEL,SAAS,SAAUC,GAAMX,EAAIiB,KAAKjB,EAAIe,KAAM,QAASJ,IAAME,WAAW,eAAeb,EAAIkB,GAAIlB,EAAW,SAAE,SAASmB,GAAM,OAAOhB,EAAG,YAAY,CAACiB,IAAID,EAAKV,MAAMJ,MAAM,CAAC,MAAQc,EAAKE,MAAM,MAAQF,EAAKV,YAAW,IAAI,GAAGN,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,YAAc,OAAOG,MAAM,CAACC,MAAOT,EAAIe,KAAS,KAAEL,SAAS,SAAUC,GAAMX,EAAIiB,KAAKjB,EAAIe,KAAM,OAAQJ,IAAME,WAAW,cAAcb,EAAIkB,GAAIlB,EAAY,UAAE,SAASmB,GAAM,OAAOhB,EAAG,YAAY,CAACiB,IAAID,EAAKG,GAAGjB,MAAM,CAAC,MAAQc,EAAKI,KAAK,MAAQJ,EAAKG,SAAQ,IAAI,GAAGnB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACF,EAAG,YAAY,CAACqB,YAAY,cAAcnB,MAAM,CAAC,OAASL,EAAIyB,WAAW,YAAYzB,EAAI0B,cAAc,gBAAgB1B,EAAI2B,iBAAiB,aAAa3B,EAAI4B,kBAAkB,YAAY5B,EAAIe,KAAKc,OAAO,CAAC1B,EAAG,YAAY,CAACH,EAAIO,GAAG,WAAW,IAAI,GAAGJ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,KAAO,UAAU,CAACF,EAAG,YAAY,CAACqB,YAAY,cAAcnB,MAAM,CAAC,OAASL,EAAI8B,OAAO,YAAY9B,EAAI+B,aAAa,aAAa/B,EAAIgC,qBAAqB,gBAAgBhC,EAAIiC,kBAAkB,YAAYjC,EAAIe,KAAKmB,MAAM,YAAY,YAAY,CAAC/B,EAAG,YAAY,CAACH,EAAIO,GAAG,WAAW,IAAI,GAAGJ,EAAG,eAAe,CAACA,EAAG,YAAY,CAACgC,YAAY,CAAC,MAAQ,OAAOC,GAAG,CAAC,MAAQpC,EAAIqC,QAAQ,CAACrC,EAAIO,GAAG,SAAS,IAAI,IAAI,IAAI,IAAI,GAAGJ,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,CAACF,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,sBAAsBG,MAAM,CAACC,MAAOT,EAAiB,cAAEU,SAAS,SAAUC,GAAMX,EAAIsC,cAAc3B,GAAKE,WAAW,kBAAkB,CAACV,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,kBAAkB+B,GAAG,CAAC,MAAQpC,EAAIuC,QAAQC,KAAK,YAAY,IAAI,IAAI,GAAGrC,EAAG,WAAW,CAACgC,YAAY,CAAC,MAAQ,QAAQ9B,MAAM,CAAC,KAAOL,EAAIyC,UAAU,oBAAoB,CAAC,aAAa,UAAU,aAAa,CAAC,aAAa,YAAY,CAACtC,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAUqC,YAAY1C,EAAI2C,GAAG,CAAC,CAACvB,IAAI,UAAUwB,GAAG,SAASC,GAAO,MAAO,CAAC1C,EAAG,SAAS,CAACA,EAAG,SAAS,CAACA,EAAG,UAAU,CAACqB,YAAY,oBAAoBnB,MAAM,CAAC,iBAAiB,SAAS,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAASL,EAAIkB,GAAI2B,EAAMC,IAAU,QAAE,SAAS3B,GAAM,OAAOhB,EAAG,YAAY,CAACiB,IAAID,EAAK4B,MAAM1C,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,iDAAiDP,EAAIgD,GAAG7B,GAAM,mDAAkD,GAAGhB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAGP,EAAIgD,GAAGH,EAAMC,IAAIG,iBAAiB,GAAG9C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,WAAW,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAGP,EAAIgD,GAAGH,EAAMC,IAAII,UAAU,GAAG/C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,WAAW,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,OAAS,EAAE,QAAS,IAAQ,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,mBAAmBF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,qBAAqBF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,oBAAoB,IAAI,IAAI,IAAI,IAAI,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,OAAO,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,QAAQ,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,OAAO,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,KAAK,MAAQ,OAAOqC,YAAY1C,EAAI2C,GAAG,CAAC,CAACvB,IAAI,UAAUwB,GAAG,SAASO,GAAM,MAAO,CAA8B,IAA5BA,EAAKL,IAAIM,eAAsBjD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,QAAQP,EAAIqD,KAAkC,IAA5BF,EAAKL,IAAIM,eAAsBjD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,QAAQP,EAAIqD,KAAkC,IAA5BF,EAAKL,IAAIM,eAAsBjD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,SAASP,EAAIqD,KAAkC,IAA5BF,EAAKL,IAAIM,eAAsBjD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,QAAQP,EAAIqD,YAAYlD,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,OAAO,MAAQ,OAAOqC,YAAY1C,EAAI2C,GAAG,CAAC,CAACvB,IAAI,UAAUwB,GAAG,SAASU,GAAO,MAAO,CAAsB,IAApBA,EAAMR,IAAIQ,MAAanD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,UAAUP,EAAIqD,KAA0B,IAApBC,EAAMR,IAAIQ,MAAanD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,UAAUP,EAAIqD,YAAYlD,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,OAAO,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,OAAO,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,OAAO,MAAQ,OAAOqC,YAAY1C,EAAI2C,GAAG,CAAC,CAACvB,IAAI,UAAUwB,GAAG,SAASW,GAAQ,MAAO,CAAwB,IAAtBA,EAAOT,IAAIS,OAAcpD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,UAAUP,EAAIqD,KAA4B,IAAtBE,EAAOT,IAAIS,OAAcpD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,UAAUP,EAAIqD,KAA4B,IAAtBE,EAAOT,IAAIS,OAAcpD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIO,GAAG,SAASP,EAAIqD,YAAYlD,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,MAAMqC,YAAY1C,EAAI2C,GAAG,CAAC,CAACvB,IAAI,UAAUwB,GAAG,SAASY,GAAI,MAAO,CAACrD,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQ+B,GAAG,CAAC,MAAQ,SAASqB,GAAQ,OAAOzD,EAAI0D,KAAKF,EAAGV,IAAIxB,OAAO,CAACtB,EAAIO,GAAG,gBAAgB,IAAI,IAAI,IAAI,IAC17MoD,EAAkB,GC0LtB,G,8BAAA,CACE,KAAF,qBACE,KAFF,WAGI,MAAJ,CACM,WAAN,QACM,MAAN,EACM,KAAN,CACQ,MAAR,2BACQ,KAAR,GACQ,KAAR,GACQ,MAAR,GACQ,SAAR,GACQ,YAAR,GACQ,KAAR,GACQ,MAAR,GACQ,SAAR,mCACQ,eAAR,GACQ,cAAR,2EACQ,SAAR,mCACQ,OAAR,IAEM,MAAN,CACQ,SAAR,CACA,CAAU,UAAV,EAAU,QAAV,WAAU,QAAV,SAEQ,KAAR,CACA,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,SAEQ,KAAR,CACA,CAAU,UAAV,EAAU,QAAV,YAAU,QAAV,SAEQ,MAAR,CACA,CAAU,UAAV,EAAU,QAAV,YAAU,QAAV,SAEQ,SAAR,CACA,CAAU,UAAV,EAAU,QAAV,WAAU,QAAV,SAEQ,YAAR,CACA,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,SAEQ,KAAR,CACA,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,SAEQ,MAAR,CACA,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,UAGM,WAAN,qBACM,OAAN,iBACM,QAAN,EACQ,MAAR,EACQ,MAAR,QACA,CACQ,MAAR,EACQ,MAAR,SAEM,SAAN,GACM,MAAN,GACM,UAAN,GACM,cAAN,GACM,UAAN,GACM,MAAN,EACM,OAAN,EACM,iBAAN,GACM,kBAAN,GACM,GAAN,GACM,KAAN,KAGE,QAAF,CACI,kBADJ,SACA,KACM,GAAN,YACQ,KAAR,2BACA,CACQ,IAAR,0BACA,KACQ,EAAR,uBACQ,EAAR,MACQ,KAAR,oBAGI,qBAZJ,SAYA,KACM,GAAN,YACQ,KAAR,2BACA,CACQ,IAAR,0BACA,KACQ,EAAR,uBACQ,EAAR,MACQ,KAAR,qBAGI,kBAvBJ,SAuBA,GACM,IAAN,yCACA,qBACM,OAAN,mBAIA,OAAM,GACE,KAAR,qCACA,IALQ,KAAR,oCACA,IAOI,iBAnCJ,SAmCA,GACM,IAAN,oNACA,qBACM,OAAN,mBAIA,OAAM,GACE,KAAR,mCACA,IALQ,KAAR,oCACA,IAOI,aA/CJ,SA+CA,GACM,IAAN,qCACA,kCACU,KAAV,0BAII,cAtDJ,SAsDA,GACM,IAAN,oCACA,iCACU,KAAV,yBAII,MA7DJ,WA6DM,IAAN,OACM,KAAN,4BACQ,kBAAR,KACQ,iBAAR,KACQ,KAAR,YACA,iBACQ,EAAR,sCACU,GAAV,GACY,IAAZ,2BACA,wBACA,uBACA,MACc,GAAd,EACc,EAAd,2EAEc,GAAd,EACc,EAAd,sEAEY,QAAZ,2BACY,EAAZ,sCACY,EAAZ,wCAEY,IAAZ,KACY,EAAZ,4CACY,EAAZ,4CACY,EAAZ,oBACY,EAAZ,0CACY,EAAZ,qDACA,mBACgB,EAAhB,OACgB,EAAhB,mCACgB,EAAhB,6BACgB,EAAhB,gCAEgB,EAAhB,2BACgB,EAAhB,uCAIY,EAAZ,qCAGA,kBACQ,EAAR,UACU,KAAV,OACU,QAAV,cAII,eA9GJ,WA8GM,IAAN,OACM,KAAN,qDACA,mBACU,EAAV,qBACU,EAAV,sBAEU,EAAV,2BAKI,KAzHJ,WA0HM,KAAN,SACQ,MAAR,oCACQ,QAAR,gCACQ,SAAR,EACQ,KAAR,aAII,OAlIJ,WAkIM,IAAN,OACA,mBAGQ,KAAR,8BACU,cAAV,mBACU,SAAV,qCACA,kBACU,GAAV,mBACY,IAAZ,KACY,GAAZ,uBACc,IAAd,oCACc,EAAd,uBACgB,EAAhB,iCAGY,EAAZ,sBACY,EAAZ,sBACY,EAAZ,qBACY,EAAZ,yBACY,EAAZ,6BACY,EAAZ,oCACY,EAAZ,2DAEY,EAAZ,aACY,EAAZ,8BAvBQ,KAAR,8BA4BI,KAhKJ,SAgKA,GAAM,IAAN,OACM,KAAN,2BACQ,kBAAR,KACQ,iBAAR,KACQ,KAAR,YACA,iBACQ,EAAR,2BACU,GAAV,EACU,KAAV,SACA,kBACU,GAAV,mBACY,IAAZ,KACY,EAAZ,4CACY,EAAZ,4CAEY,IAAZ,iCACA,uCACgB,EAAhB,UAGA,YACc,EAAd,kBAEY,IAAZ,KACY,EAAZ,QACY,EAAZ,YACY,IAAZ,yCACA,mCACgB,EAAhB,WAGA,YACc,EAAd,0BAGA,sDACc,EAAd,sCACc,EAAd,sDACc,EAAd,2BACgB,OAAhB,YACgB,GAAhB,EACgB,SAAhB,qCACA,kBACA,mBACkB,EAAlB,6BACkB,EAAlB,6CAEkB,EAAlB,gCAIA,sBACgB,EAAhB,uCAEA,8BACgB,EAAhB,0CAIY,EAAZ,iCAGA,kBACQ,EAAR,UACU,KAAV,OACU,QAAV,cAKI,sBAtOJ,SAsOA,GAAM,IAAN,OACM,QAAN,OACM,IAAN,KACM,EAAN,QACM,EAAN,YACM,KAAN,yBACM,KAAN,4CACQ,iBAAR,sCACQ,SAAR,qCACA,kBACA,kBACU,EAAV,6BAEU,EAAV,+BAKI,uBAxPJ,SAwPA,GAAM,IAAN,OACM,KAAN,4CACQ,iBAAR,EACQ,SAAR,qCACA,kBACA,kBACU,EAAV,6BAEU,EAAV,gCAKE,QA1UF,WA2UI,KAAJ,oBCtgB2W,I,wBCQvWC,EAAY,eACd,EACA7D,EACA4D,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,oECnBf,yBAAikB,EAAG","file":"js/chunk-72941a5d.ff285f59.js","sourcesContent":["'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\",\"width\":\"100%\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"管理员管理\")]),_c('el-breadcrumb-item',[_vm._v(\"项目申请\")])],1),_c('el-divider'),_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"申请项目\",\"name\":\"first\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form',{ref:\"applyForm\",attrs:{\"label-width\":\"100px\",\"model\":_vm.form,\"rules\":_vm.rules,\"hide-required-asterisk\":true,\"status-icon\":true}},[_c('el-form-item',{attrs:{\"label\":\"项目申报人\",\"prop\":\"realname\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入项目申报人\",\"disabled\":\"\"},model:{value:(_vm.form.realname),callback:function ($$v) {_vm.$set(_vm.form, \"realname\", $$v)},expression:\"form.realname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入项目名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目简介\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入项目简介\",\"type\":\"textarea\",\"rows\":2},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目关键词\",\"prop\":\"keywords\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入项目关键词\"},model:{value:(_vm.form.keywords),callback:function ($$v) {_vm.$set(_vm.form, \"keywords\", $$v)},expression:\"form.keywords\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目类型\",\"prop\":\"level\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.level),callback:function ($$v) {_vm.$set(_vm.form, \"level\", $$v)},expression:\"form.level\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"项目类别\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.options1),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.type,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"项目文件\",\"prop\":\"file\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.uploadFile,\"on-remove\":_vm.handleRemove1,\"before-upload\":_vm.beforeFileUpload,\"on-success\":_vm.handleFileSuccess,\"file-list\":_vm.form.file}},[_c('el-button',[_vm._v(\"点击上传\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"项目相关图片\",\"prop\":\"thumb\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.upload,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleAvatarSuccess1,\"before-upload\":_vm.beforePhoneUpload,\"file-list\":_vm.form.thumb,\"list-type\":\"picture\"}},[_c('el-button',[_vm._v(\"点击上传\")])],1)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"80%\"},on:{\"click\":_vm.apply}},[_vm._v(\"提交\")])],1)],1)],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"加入项目\",\"name\":\"second\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入您要搜索的项目秘钥(请勿泄露)\"},model:{value:(_vm.search_number),callback:function ($$v) {_vm.search_number=$$v},expression:\"search_number\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search},slot:\"append\"})],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"header-cell-style\":{'text-align':'center'},\"cell-style\":{'text-align':'center'}}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-row',[_c('el-col',[_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"label\":\"项目成员\"}},_vm._l((props.row.member),function(item){return _c('el-button',{key:item.index,attrs:{\"type\":\"text\"}},[_vm._v(\"\\n                                            \"+_vm._s(item)+\"\\n                                        \")])}),1),_c('el-form-item',{attrs:{\"label\":\"项目简述\"}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(_vm._s(props.row.description))])],1),_c('el-form-item',{attrs:{\"label\":\"项目申请时间\"}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(_vm._s(props.row.time))])],1),_c('el-form-item',{attrs:{\"label\":\"项目审核进度\"}},[_c('el-steps',{attrs:{\"active\":1,\"simple\":false}},[_c('el-step',{attrs:{\"title\":\"未审核\",\"icon\":\"el-icon-close\"}}),_c('el-step',{attrs:{\"title\":\"正在审核\",\"icon\":\"el-icon-loading\"}}),_c('el-step',{attrs:{\"title\":\"审核成功\",\"icon\":\"el-icon-check\"}})],1)],1)],1)],1)],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"项目名称\",\"width\":\"220\"}}),_c('el-table-column',{attrs:{\"prop\":\"realname\",\"label\":\"项目负责人\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"college\",\"label\":\"所属学院\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"prop\":\"role\",\"label\":\"职称\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(role){return [(role.row.teachers_title === 1)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"助教\")]):_vm._e(),(role.row.teachers_title === 2)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"讲师\")]):_vm._e(),(role.row.teachers_title === 3)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"副教授\")]):_vm._e(),(role.row.teachers_title === 4)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"教授\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"level\",\"label\":\"项目类型\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(level){return [(level.row.level === 1)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"重点项目\")]):_vm._e(),(level.row.level === 2)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"一般项目\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"项目类别\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"联系电话\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"states\",\"label\":\"审核状态\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(states){return [(states.row.states === 1)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"审核通过\")]):_vm._e(),(states.row.states === 2)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"审核失败\")]):_vm._e(),(states.row.states === 3)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"未审核\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(cz){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.join(cz.row.id)}}},[_vm._v(\"申请\")])]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-breadcrumb separator=\"/\" width=\"100%\">\r\n            <el-breadcrumb-item :to=\"{ path: '/' }\">管理员管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>项目申请</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <el-divider></el-divider>\r\n        <el-tabs v-model=\"activeName\">\r\n            <el-tab-pane label=\"申请项目\" name=\"first\">\r\n                <el-row>\r\n                    <el-col :span=\"8\">\r\n                        <el-form label-width=\"100px\" :model=\"form\" :rules=\"rules\" ref=\"applyForm\"\r\n                                 :hide-required-asterisk=\"true\"\r\n                                 :status-icon=\"true\">\r\n                            <el-form-item label=\"项目申报人\" prop=\"realname\">\r\n                                <el-input placeholder=\"请输入项目申报人\" v-model=\"form.realname\" disabled></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"项目名称\" prop=\"name\">\r\n                                <el-input placeholder=\"请输入项目名称\" v-model=\"form.name\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"项目简介\" prop=\"description\">\r\n                                <el-input placeholder=\"请输入项目简介\" v-model=\"form.description\" type=\"textarea\"\r\n                                          :rows=\"2\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"项目关键词\" prop=\"keywords\">\r\n                                <el-input placeholder=\"请输入项目关键词\" v-model=\"form.keywords\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"项目类型\" prop=\"level\">\r\n                                <el-select v-model=\"form.level\" placeholder=\"请选择\">\r\n                                    <el-option\r\n                                            v-for=\"item in options\"\r\n                                            :key=\"item.value\"\r\n                                            :label=\"item.label\"\r\n                                            :value=\"item.value\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"项目类别\" prop=\"type\">\r\n                                <el-select v-model=\"form.type\" placeholder=\"请选择\">\r\n                                    <el-option\r\n                                            v-for=\"item in options1\"\r\n                                            :key=\"item.id\"\r\n                                            :label=\"item.type\"\r\n                                            :value=\"item.id\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"项目文件\" prop=\"file\">\r\n                                <el-upload\r\n                                        class=\"upload-demo\"\r\n                                        :action=\"uploadFile\"\r\n                                        :on-remove=\"handleRemove1\"\r\n                                        :before-upload=\"beforeFileUpload\"\r\n                                        :on-success=\"handleFileSuccess\"\r\n                                        :file-list=\"form.file\">\r\n                                    <el-button>点击上传</el-button>\r\n                                </el-upload>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"项目相关图片\" prop=\"thumb\">\r\n                                <el-upload\r\n                                        class=\"upload-demo\"\r\n                                        :action=\"upload\"\r\n                                        :on-remove=\"handleRemove\"\r\n                                        :on-success=\"handleAvatarSuccess1\"\r\n                                        :before-upload=\"beforePhoneUpload\"\r\n                                        :file-list=\"form.thumb\"\r\n                                        list-type=\"picture\">\r\n                                    <el-button>点击上传</el-button>\r\n                                </el-upload>\r\n                            </el-form-item>\r\n                            <el-form-item>\r\n                                <el-button style=\"width: 80%\" @click=\"apply\">提交</el-button>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"加入项目\" name=\"second\">\r\n                <el-row>\r\n                    <el-col :span=\"8\">\r\n                        <el-input placeholder=\"请输入您要搜索的项目秘钥(请勿泄露)\" v-model=\"search_number\">\r\n                            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"search\"></el-button>\r\n                        </el-input>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-table\r\n                        :data=\"tableData\"\r\n                        style=\"width: 100%\"\r\n                        :header-cell-style=\"{'text-align':'center'}\"\r\n                        :cell-style=\"{'text-align':'center'}\">\r\n                    <el-table-column type=\"expand\">\r\n                        <template slot-scope=\"props\">\r\n                            <el-row>\r\n                                <el-col>\r\n                                    <el-form label-position=\"left\" class=\"demo-table-expand\">\r\n                                        <el-form-item label=\"项目成员\">\r\n                                            <el-button type=\"text\" v-for=\"item in props.row.member\" :key=\"item.index\">\r\n                                                {{item}}\r\n                                            </el-button>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"项目简述\">\r\n                                            <el-button type=\"text\">{{ props.row.description }}</el-button>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"项目申请时间\">\r\n                                            <el-button type=\"text\">{{ props.row.time }}</el-button>\r\n                                        </el-form-item>\r\n                                        <el-form-item label=\"项目审核进度\">\r\n                                            <el-steps :active=\"1\" :simple=\"false\">\r\n                                                <el-step title=\"未审核\" icon=\"el-icon-close\"></el-step>\r\n                                                <el-step title=\"正在审核\" icon=\"el-icon-loading\"></el-step>\r\n                                                <el-step title=\"审核成功\" icon=\"el-icon-check\"></el-step>\r\n                                            </el-steps>\r\n                                        </el-form-item>\r\n                                    </el-form>\r\n                                </el-col>\r\n                            </el-row>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"name\"\r\n                            label=\"项目名称\"\r\n                            width=\"220\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"realname\"\r\n                            label=\"项目负责人\"\r\n                            width=\"100\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"college\"\r\n                            label=\"所属学院\"\r\n                            width=\"140\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"role\"\r\n                            label=\"职称\"\r\n                            width=\"100\">\r\n                        <template slot-scope=\"role\">\r\n                            <el-button type=\"text\" v-if=\"role.row.teachers_title === 1\">助教</el-button>\r\n                            <el-button type=\"text\" v-if=\"role.row.teachers_title === 2\">讲师</el-button>\r\n                            <el-button type=\"text\" v-if=\"role.row.teachers_title === 3\">副教授</el-button>\r\n                            <el-button type=\"text\" v-if=\"role.row.teachers_title === 4\">教授</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"level\"\r\n                            label=\"项目类型\"\r\n                            width=\"180\">\r\n                        <template #default=\"level\">\r\n                            <el-button type=\"text\" v-if=\"level.row.level === 1\">重点项目</el-button>\r\n                            <el-button type=\"text\" v-if=\"level.row.level === 2\">一般项目</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"type\"\r\n                            label=\"项目类别\"\r\n                            width=\"140\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"phone\"\r\n                            label=\"联系电话\"\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"states\"\r\n                            label=\"审核状态\"\r\n                            width=\"100\">\r\n                        <template #default=\"states\">\r\n                            <el-button type=\"text\" v-if=\"states.row.states === 1\">审核通过</el-button>\r\n                            <el-button type=\"text\" v-if=\"states.row.states === 2\">审核失败</el-button>\r\n                            <el-button type=\"text\" v-if=\"states.row.states === 3\">未审核</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            label=\"操作\"\r\n                            width=\"80\">\r\n                        <template #default=\"cz\">\r\n                            <el-button type=\"text\" @click=\"join(cz.row.id)\">申请</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"ProjectApplication\",\r\n        data() {\r\n            return {\r\n                activeName: 'first',\r\n                count: 0,\r\n                form: {\r\n                    time: new Date().toLocaleString(),\r\n                    name: \"\",\r\n                    file: [],\r\n                    thumb: [],\r\n                    keywords: \"\",\r\n                    description: \"\",\r\n                    type: \"\",\r\n                    level: \"\",\r\n                    realname: sessionStorage.getItem(\"realname\"),\r\n                    project_number: \"\",\r\n                    search_number: this.$md5(Math.floor(new Date().getTime() / (Math.floor(Math.random() * 10 + 1)))),\r\n                    username: sessionStorage.getItem(\"username\"),\r\n                    member: [],\r\n                },\r\n                rules: {\r\n                    realname: [\r\n                        {required: true, message: '请输入项目负责人', trigger: 'blur'},\r\n                    ],\r\n                    name: [\r\n                        {required: true, message: '请输入项目名称', trigger: 'blur'},\r\n                    ],\r\n                    file: [\r\n                        {required: true, message: '请上传项目所需文件', trigger: 'blur'},\r\n                    ],\r\n                    thumb: [\r\n                        {required: true, message: '请选择项目有关图片', trigger: 'blur'},\r\n                    ],\r\n                    keywords: [\r\n                        {required: true, message: '请输入项目关键词', trigger: 'blur'},\r\n                    ],\r\n                    description: [\r\n                        {required: true, message: '请输入项目简述', trigger: 'blur'},\r\n                    ],\r\n                    type: [\r\n                        {required: true, message: '请选择项目类别', trigger: 'blur'},\r\n                    ],\r\n                    level: [\r\n                        {required: true, message: '请选择项目类型', trigger: 'blur'},\r\n                    ],\r\n                },\r\n                uploadFile: this.$api.UPLOADFILE,\r\n                upload: this.$api.UPLOAD,\r\n                options: [{\r\n                    value: 1,\r\n                    label: '重点项目'\r\n                }, {\r\n                    value: 2,\r\n                    label: '一般项目'\r\n                }],\r\n                options1: [],\r\n                value: '',\r\n                tableData: [],\r\n                search_number: \"\",\r\n                oldmember: [],\r\n                flag: true,\r\n                flag1: true,\r\n                research_project: [], // 服务于项目申请人\r\n                research_project1: [],  // 服务于除项目申请人之外的用户\r\n                id: \"\",  //接收一下此时搜索到的要申请的项目的id和名称\r\n                name: \"\"\r\n            }\r\n        },\r\n        methods: {\r\n            handleFileSuccess(res, file) {\r\n                if (res === \"error\") {\r\n                    this.$message.error(\"上传失败\")\r\n                } else {\r\n                    let a = file.name.lastIndexOf(\".\");\r\n                    let obj = {};\r\n                    obj.name = file.name.slice(0, a);\r\n                    obj.url = res;\r\n                    this.form.file.push(obj);\r\n                }\r\n            },\r\n            handleAvatarSuccess1(res, file) {\r\n                if (res === \"error\") {\r\n                    this.$message.error(\"上传失败\")\r\n                } else {\r\n                    let a = file.name.lastIndexOf(\".\");\r\n                    let obj = {};\r\n                    obj.name = file.name.slice(0, a);\r\n                    obj.url = res;\r\n                    this.form.thumb.push(obj);\r\n                }\r\n            },\r\n            beforePhoneUpload(file) {\r\n                const typeArr = [\"image/jpeg\", \"image/jpg\", \"image/png\"];\r\n                const isLt5M = file.size / 1024 / 1024 < 2;\r\n                if (!typeArr.includes(file.type)) {\r\n                    this.$message.error(\"上传的图片格式有误，请重新上传！\");\r\n                    return false;\r\n                }\r\n                if (!isLt5M) {\r\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                    return false;\r\n                }\r\n            },\r\n            beforeFileUpload(file) {\r\n                const typeArr = [\"application/msword\", \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", \"application/vnd.ms-excel\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\", \"application/zip\"];\r\n                const isLt5M = file.size / 1024 / 1024 < 5;\r\n                if (!typeArr.includes(file.type)) {\r\n                    this.$message.error(\"上传的文件格式有误，请重新上传！\");\r\n                    return false;\r\n                }\r\n                if (!isLt5M) {\r\n                    this.$message.error('上传文件大小不能超过 5MB!');\r\n                    return false;\r\n                }\r\n            },\r\n            handleRemove(file) {\r\n                for (let i = 0; i < this.form.thumb.length; i++) {\r\n                    if (file.name === this.form.thumb[i].name) {\r\n                        this.form.thumb.splice(i, i + 1)\r\n                    }\r\n                }\r\n            },\r\n            handleRemove1(file) {\r\n                for (let i = 0; i < this.form.file.length; i++) {\r\n                    if (file.name === this.form.file[i].name) {\r\n                        this.form.file.splice(i, i + 1)\r\n                    }\r\n                }\r\n            },\r\n            apply() {\r\n                this.$confirm(\"是否确定申请该项目？\", '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning',\r\n                }).then(() => {\r\n                    this.$refs.applyForm.validate(val => {\r\n                        if (val) {\r\n                            let year = new Date().getFullYear();\r\n                            let month = new Date().getMonth();\r\n                            let day = new Date().getDate();\r\n                            if (month < 10) {\r\n                                month = month + 1;\r\n                                this.form.project_number = \"NU\" + year + \"0\" + month + day + this.form.type + this.form.level + this.count + \"ER\";\r\n                            } else {\r\n                                month = month + 1;\r\n                                this.form.project_number = \"NU\" + year + month + day + this.form.type + this.form.level + this.count + \"ER\";\r\n                            }\r\n                            console.log(this.form.project_number);\r\n                            this.form.file = JSON.stringify(this.form.file);\r\n                            this.form.thumb = JSON.stringify(this.form.thumb);\r\n                            //转化当前申请人的个人信息\r\n                            let obj = {};\r\n                            obj.username = sessionStorage.getItem(\"username\");\r\n                            obj.realname = sessionStorage.getItem(\"realname\");\r\n                            this.form.member.push(obj);\r\n                            this.form.member = JSON.stringify(this.form.member);\r\n                            this.$axios.post(this.$api.PROJECT, this.form).then(res => {\r\n                                if (res.data.code === 200) {\r\n                                    this.open();\r\n                                    this.updateResearchProject(res.data.data);\r\n                                    this.$message.success(res.data.msg);\r\n                                    this.$refs.applyForm.resetFields();\r\n                                } else {\r\n                                    this.$message.error(res.data.msg);\r\n                                    this.$refs.applyForm.resetFields();\r\n                                }\r\n                            })\r\n                        } else {\r\n                            this.$message.error(\"请检查内容是否输入正确！\")\r\n                        }\r\n                    })\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消申请'\r\n                    });\r\n                })\r\n            },\r\n            getProjectType() {\r\n                this.$axios.get(this.$api.PROJECT_TYPE).then(res => {\r\n                    if (res.data.code === 200) {\r\n                        this.options1 = res.data.data;\r\n                        this.count = res.data.count + 1;\r\n                    } else {\r\n                        this.$message.error(\"获取失败\")\r\n                    }\r\n                })\r\n            },\r\n            //打开搜索秘钥\r\n            open() {\r\n                this.$notify({\r\n                    title: '请务必记住搜索秘钥，关闭以后将不再提示，如不慎丢失，请联系管理员。',\r\n                    message: \"搜索秘钥:\" + this.form.search_number,\r\n                    duration: 0,\r\n                    type: 'success'\r\n                });\r\n            },\r\n            //拿到秘钥进行搜索，此时就把当前用户信息添加到oldmember\r\n            search() {\r\n                if (!this.search_number) {\r\n                    this.$message.error(\"请正确输入搜索秘钥！\")\r\n                } else {\r\n                    this.$axios.put(this.$api.PROJECT, {\r\n                        search_number: this.search_number,\r\n                        username: sessionStorage.getItem(\"username\")\r\n                    }).then(res => {\r\n                        if (res.data.code === 200) {\r\n                            let arr1 = [];\r\n                            if (res.data.data[0].member) {\r\n                                let arr = (JSON.parse(res.data.data[0].member));\r\n                                arr.forEach(function (value, index) {\r\n                                    arr1.push(++index + \".\" + \" \" + value.realname + \" \");\r\n                                });\r\n                            }\r\n                            res.data.data[0].member = arr1;\r\n                            this.tableData = res.data.data;\r\n                            this.id = res.data.data[0].id;\r\n                            this.name = res.data.data[0].name;\r\n                            this.$message.success(res.data.msg);\r\n                            this.oldmember = JSON.parse(res.data.member);  //从数据库中获取到的原始数据\r\n                            this.research_project1 = JSON.parse(res.data.research_project)\r\n                        } else {\r\n                            this.tableData = [];\r\n                            this.$message.error(res.data.msg);\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            join(id) {\r\n                this.$confirm(\"是否确认加入该项目\", '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning',\r\n                }).then(() => {\r\n                    this.$axios.get(this.$api.PROJECT, {\r\n                        id: id,\r\n                        yzsq: \"验证申请\"\r\n                    }).then(res => {\r\n                        if (res.data.code === 200) {\r\n                            let obj = {};\r\n                            obj.username = sessionStorage.getItem(\"username\");\r\n                            obj.realname = sessionStorage.getItem(\"realname\");\r\n                            //数组filter去重不好去，用一个flag来控制是否push进去\r\n                            for (let i = 0; i < this.oldmember.length; i++) {\r\n                                if (obj.realname === this.oldmember[i].realname) {\r\n                                    this.flag = false;\r\n                                }\r\n                            }\r\n                            if (this.flag === true) {\r\n                                this.oldmember.push(obj)\r\n                            }\r\n                            let obj1 = {};\r\n                            obj1.id = this.id;\r\n                            obj1.name = this.name;\r\n                            for (let i = 0; i < this.research_project1.length; i++) {\r\n                                if (obj1.id === this.research_project1[i].id) {\r\n                                    this.flag1 = false;\r\n                                }\r\n                            }\r\n                            if (this.flag === true) {\r\n                                this.research_project1.push(obj1)\r\n                            }\r\n                            //判断此时的oldmember长度，如果 <= 5 ,正常操作，否则，直接报错\r\n                            if (this.oldmember.length <= 5 && this.research_project1.length <= 2) {\r\n                                this.oldmember = JSON.stringify(this.oldmember);\r\n                                this.research_project1 = JSON.stringify(this.research_project1);\r\n                                this.$axios.put(this.$api.PROJECT, {\r\n                                    member: this.oldmember,\r\n                                    id,\r\n                                    username: sessionStorage.getItem(\"username\")\r\n                                }).then(res => {\r\n                                    if (res.data.code === 200) {\r\n                                        this.$message.success(res.data.msg);  //反正也不会添加，报成功也可以\r\n                                        this.updateResearchProject1(this.research_project1);\r\n                                    } else {\r\n                                        this.$message.error(res.data.msg)\r\n                                    }\r\n                                })\r\n                            } else {\r\n                                if (this.oldmember.length > 5) {\r\n                                    this.$message.error(\"对不起，此科研小组成员已满，请重新申请！\")\r\n                                }\r\n                                if (this.research_project1.length > 2) {\r\n                                    this.$message.error(\"对不起，每人至多只能参与两个项目！\")\r\n                                }\r\n                            }\r\n                        } else {\r\n                            this.$message.error(res.data.msg)\r\n                        }\r\n                    });\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消申请'\r\n                    });\r\n                });\r\n            },\r\n            //更新项目申请人的参研项目\r\n            updateResearchProject(data) {\r\n                console.log(data);\r\n                let obj = {};\r\n                obj.id = data.id;\r\n                obj.name = data.name;\r\n                this.research_project.push(obj);\r\n                this.$axios.put(this.$api.UPDATERESEARCHPROJECT, {\r\n                    research_project: JSON.stringify(this.research_project),\r\n                    username: sessionStorage.getItem(\"username\")\r\n                }).then(res => {\r\n                    if (res.data.code === 200) {\r\n                        this.$message.success(\"参研项目更新成功\")\r\n                    } else {\r\n                        this.$message.error(\"参研项目更新失败\")\r\n                    }\r\n                })\r\n            },\r\n            //更新其他用户的参研项目信息\r\n            updateResearchProject1(data) {\r\n                this.$axios.put(this.$api.UPDATERESEARCHPROJECT, {\r\n                    research_project: data,\r\n                    username: sessionStorage.getItem(\"username\")\r\n                }).then(res => {\r\n                    if (res.data.code === 200) {\r\n                        this.$message.success(\"参研项目更新成功\")\r\n                    } else {\r\n                        this.$message.error(\"参研项目更新失败\")\r\n                    }\r\n                })\r\n            },\r\n        },\r\n        mounted() {\r\n            this.getProjectType();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n    .el-form-item__label {\r\n        text-align: center !important;\r\n    }\r\n\r\n    .avatar-uploader .el-upload {\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .avatar-uploader-icon:hover {\r\n        border-color: #409EFF;\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n        border: 1px dashed #d9d9d9;\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n\r\n    .el-row {\r\n        margin-bottom: 20px;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectApplication.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectApplication.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectApplication.vue?vue&type=template&id=45731d15&scoped=true&\"\nimport script from \"./ProjectApplication.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectApplication.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectApplication.vue?vue&type=style&index=0&id=45731d15&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45731d15\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectApplication.vue?vue&type=style&index=0&id=45731d15&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectApplication.vue?vue&type=style&index=0&id=45731d15&scoped=true&lang=scss&\""],"sourceRoot":""}