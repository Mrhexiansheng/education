(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20fb07"],{b564:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/",width:"100%"}},[a("el-breadcrumb-item",[e._v("前台信息管理")]),a("el-breadcrumb-item",[e._v("导航管理")])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:14}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"导航信息",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}},on:{"cell-dblclick":e.tableDbEdit}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"180"}}),a("el-table-column",{attrs:{prop:"catname",label:"导航名称",width:"180"}}),a("el-table-column",{attrs:{prop:"enname",label:"导航英文名称",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.del(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"导航信息添加",name:"second"}},[a("el-row",[a("el-col",{attrs:{span:14}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"导航名称",prop:"catname"}},[a("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.catname,callback:function(t){e.$set(e.ruleForm,"catname",t)},expression:"ruleForm.catname"}})],1),a("el-form-item",{attrs:{label:"导航英文名称",prop:"enname"}},[a("el-input",{model:{value:e.ruleForm.enname,callback:function(t){e.$set(e.ruleForm,"enname",e._n(t))},expression:"ruleForm.enname"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("添加")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},r=[],l={name:"NavigationManagement",data:function(){var e=function(e,t,a){""===t?a(new Error("请输入导航名称")):a()},t=function(e,t,a){""===t?a(new Error("请输入导航英文名称")):a()};return{tableData:[],activeName:"first",ruleForm:{catname:"",enname:""},rules:{catname:[{validator:e,trigger:"blur"}],enname:[{validator:t,trigger:"blur"}]}}},methods:{handleClick:function(e,t){},getData:function(){var e=this;this.$axios.get(this.$api.CATEGORY).then((function(t){200===t.data.code?e.tableData=t.data.data:e.$message.error(t.data.msg)}))},tableDbEdit:function(e,t,a,n){if("id"!=t.label){if("catname"==t.property){n.target.innerHTML="";var r=document.createElement("input");r.setAttribute("type","text"),r.value=e.catname,r.style.width="80%",r.style.height="80%",a.appendChild(r);var l=this;r.onblur=function(){a.removeChild(r),r.value!=e.catname?(n.target.innerHTML=r.value,e.catname=r.value,l.update(e.id,e.catname,e.enname)):n.target.innerHTML=e.catname}}if("enname"==t.property){n.target.innerHTML="";var i=document.createElement("input");i.setAttribute("type","text"),i.value=e.enname,i.style.width="80%",i.style.height="80%",a.appendChild(i);var o=this;i.onblur=function(){a.removeChild(i),i.value!=e.enname?(n.target.innerHTML=i.value,e.enname=i.value,o.update(e.id,e.catname,e.enname)):n.target.innerHTML=e.enname}}}},update:function(e,t,a){var n=this;this.$axios.put(this.$api.CATEGORY,{id:e,catname:t,enname:a}).then((function(e){200===e.data.code?(n.$message.success(e.data.msg),n.getData()):n.$message.error(e.data.msg)}))},del:function(e){var t=this;this.$confirm("是否选择删除该导航?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.delete(t.$api.CATEGORY,{id:e}).then((function(e){200===e.data.code?(t.getData(),t.$message.success(e.data.msg)):t.$message.error(e.data.msg)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$confirm("是否选择添加该导航?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.post(t.$api.CATEGORY,t.ruleForm).then((function(e){200===e.data.code?(t.getData(),t.ruleForm.catname="",t.ruleForm.enname="",t.$message.success(e.data.msg)):t.$message.error(e.data.msg)}))})).catch((function(){t.$message({type:"info",message:"已取消添加"})}))}))},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.getData()}},i=l,o=a("2877"),s=Object(o["a"])(i,n,r,!1,null,"0177dfd1",null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d20fb07.2f214ab8.js.map