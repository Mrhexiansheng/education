(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60246f32"],{6682:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/",width:"100%"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("管理员管理")]),a("el-breadcrumb-item",[t._v("用户管理")])],1),a("el-divider"),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入您要搜索的名字"},model:{value:t.form.search,callback:function(e){t.$set(t.form,"search",e)},expression:"form.search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",circle:""},on:{click:t.search},slot:"append"})],1)],1)],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName,"header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"职位"}},[t._v("\n                                    \n                        "),a("el-button",{attrs:{type:"text"}},[t._v(t._s(e.row.position))])],1)],1)]}}])}),a("el-table-column",{attrs:{prop:"realname",label:"姓名",width:"80"}}),a("el-table-column",{attrs:{prop:"college",label:"所属学院",width:"200"}}),a("el-table-column",{attrs:{prop:"teachers_title",label:"职称",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.teachers_title?a("el-button",{attrs:{type:"text"}},[t._v("助教")]):t._e(),2===e.row.teachers_title?a("el-button",{attrs:{type:"text"}},[t._v("讲师")]):t._e(),3===e.row.teachers_title?a("el-button",{attrs:{type:"text"}},[t._v("副教授")]):t._e(),4===e.row.teachers_title?a("el-button",{attrs:{type:"text"}},[t._v("教授")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"degree",label:"学位",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.degree?a("el-button",{attrs:{type:"text"}},[t._v("学士")]):t._e(),2===e.row.degree?a("el-button",{attrs:{type:"text"}},[t._v("硕士")]):t._e(),3===e.row.degree?a("el-button",{attrs:{type:"text"}},[t._v("博士")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"联系电话",width:"150"}}),a("el-table-column",{attrs:{prop:"state",label:"账号状态",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.state?a("el-button",{attrs:{type:"text"}},[t._v("白名单")]):t._e(),2===e.row.state?a("el-button",{attrs:{type:"text"}},[t._v("黑名单")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"last_login_time",label:"上次登录时间",width:"210"}}),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.changeState(e.row.id,e.row.state)}}},[t._v("加入黑名单\n                ")]):t._e(),2===e.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.changeState(e.row.id,e.row.state)}}},[t._v("加入白名单\n                ")]):t._e(),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.del(e.row.id)}}},[t._v("删除")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.reset(e.row.id)}}},[t._v("密码重置")])]}}])})],1),a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.size,"current-page":t.page,total:t.total},on:{"update:pageSize":function(e){t.size=e},"update:page-size":function(e){t.size=e},"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"size-change":t.sizeChange,"current-change":t.currentChange}})],1)},s=[],o={name:"UserShow",data:function(){return{tableData:[],size:7,page:1,total:0,message:"",number:0,memberLength:0,form:{search:""}}},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return 1===e?"warning-row":3===e?"success-row":""},getData:function(){var t=this;this.$axios.get(this.$api.USER,{size:this.size,page:this.page}).then((function(e){200===e.data.code?(t.tableData=e.data.data,t.total=e.data.total):t.$message.error("获取失败")}))},del:function(t){var e=this;this.$confirm("是否确认删除该用户","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.delete(e.$api.DELETEUSER,{id:t}).then((function(t){200===t.data.code?(e.$message.success(t.data.msg),e.getData()):e.$message.error(t.data.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},changeState:function(t,e){var a=this;this.message=1===e?"确认加入黑名单吗？":"确认重新加入白名单吗？",e=1===e?2:1,this.$confirm(this.message,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$axios.put(a.$api.USER,{id:t,state:e}).then((function(t){200===t.data.code?(a.$message.success("修改成功"),a.getData()):a.$message.error(t.data.msg)}))})).catch((function(){a.$message({type:"info",message:"已取消修改"})}))},reset:function(t){var e=this;this.$confirm("是否确认重置密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.post(e.$api.RESETPASS,{id:t}).then((function(t){200===t.data.code?e.$message.success("重置成功"):e.$message.error(t.data.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消重置"})}))},sizeChange:function(t){this.page=t,this.getData()},currentChange:function(t){this.page=t,this.getData()},search:function(){var t=this;this.$axios.get(this.$api.USER,this.form).then((function(e){200===e.data.code?(t.tableData=e.data.data,t.total=1):t.$message.error(e.data.msg)}))}},mounted:function(){this.getData()}},r=o,l=(a("c34a"),a("2877")),i=Object(l["a"])(r,n,s,!1,null,"1820006a",null);e["default"]=i.exports},7326:function(t,e,a){},c34a:function(t,e,a){"use strict";var n=a("7326"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-60246f32.aa8fbf10.js.map